## فرابيه كلاود هجين

توضح هذه المقالة النموذج الهجين لاستضافة مواقع ERPNext الخاصة بك باستخدام Frappe Cloud.

تستفيد FC Hybrid من خادمك وأيديولوجية بياناتك من خلال إعداد المتطلبات الأساسية لتشغيل موقع ERPNext يتم التحكم فيه من لوحة معلومات FC.

نحن نستخدم Ansible Playbooks لإعداد الخادم ومنسقنا المطور من In House والذي يسمى Agent للقيام بالأنشطة المتعلقة بالموقع مثل التحديثات والنسخ الاحتياطية والاستعادة والترحيل. يتم استخدام الوكيل على نطاق واسع للتحكم في جميع المواقع 6000+ وخوادم 50+ الموجودة حاليًا على Frappe Cloud.

### الاختلاف عن خوادم FC

يتمثل الاختلاف بين الخوادم ذاتية الاستضافة من خوادم FC في أنه سيتم استخدام خادم واحد واحد ستقدمه كخادم تطبيق وخادم قاعدة بيانات. في هذه الحالة في خوادم FC ، يتعامل خادم واحد مع التطبيق والآخر يستخدم كخادم قاعدة البيانات.

لن تكون هذه الخوادم ذاتية الاستضافة تحت سيطرة Frappe وستكون صيانتها بالكامل على مالك الخادم.

### الفوائد والميزات

1. التحكم والأمان: يتيح Frappe Cloud BYOD للعملاء الحفاظ على التحكم الكامل في البنية التحتية والبيانات الخاصة بهم ، وهو أمر مهم بشكل خاص للعملاء الذين لديهم متطلبات أمنية صارمة أو يخضعون للامتثال التنظيمي.
    
2. المرونة: يتيح Frappe Cloud BYOD للعملاء توسيع نطاق بنيتهم ​​التحتية لأعلى أو لأسفل حسب الحاجة ، دون الحاجة إلى القلق بشأن قيود السعة أو القيود الأخرى.
    
3. جميع ميزات Frappe Cloud بما في ذلك
    

* النسخ الاحتياطي خارج الموقع
* مراقبة الخادم
* دعم الاستضافة السحابية Frappe
* مواقع متعددة على نفس الخادم
* تحديثات تلقائية في الموقع

### افتراضات الخادم

أثناء إنشاء خادم من واجهة المستخدم ، يفترض النظام ما يلي

* نظام التشغيل هو Ubuntu 20
* يُمنح وصول `root / sudo` حق الوصول إلى FC
* لا يوجد مستخدمون آخرون غير مستخدم "الجذر"
* مستخدم SSH الافتراضي ومنفذ SSH هما "root" و "22" على التوالي
* يمكن الوصول إلى الخادم من الإنترنت
* يشير سجل DNS مع المجال الخاص بك إلى الخادم

### بنيان

هذا مخطط معماري بسيط لإعداد خادم مستضاف ذاتيًا مع FC

![](https://frappecloud.com/files/BYOD٪20Arch.drawio.png)

> تفترض هذه الصورة وجود 3 مقاعد في الخادم ، وبالتالي 3 حاويات عامل إرساء.

### طلب التدفقات

* ** طلبات الوكيل ** (أرجواني) يتم إرسالها مباشرة إلى الخادم. إنها طلبات http ويقومون بتنفيذ عملية موقع وبمجرد الانتهاء من ذلك ، يرسل استجابة JSON مباشرة مرة أخرى إلى Frappe Cloud
* ** طلبات الموقع **: يتم توجيهها إلى الخادم عبر خادم وكيل. هذا الخادم الوكيل موجود حاليًا في منطقة مومباي ويتم توجيه حركة المرور إلى الخادم النهائي عبر وكيل Nginx. تتم معالجة طلبات الموقع هذه بواسطة Nginx الموجود في Self Hosted Server وإرسالها إلى حاوية Docker مع الموقع.
* ** المصدرون **: جمع بيانات المراقبة من الخادم وإخطار فريق Frappe Cloud في حالة حدوث أي شيء غير طبيعي
* ** طلبات قاعدة البيانات **: هذه مكالمات قاعدة بيانات مباشرة من المواقع.

### المجلدات والبنية

* ستكون جميع التكوينات المتعلقة بالوكيل في مجلد "وكيل" في مستخدم فرابي
* ستكون مقاعد البدلاء في دليل "مقاعد" تحت المستخدم فرابي. هذه لا تملك القدرة الكاملة لمقعد فرابي.
* ستكون جميع المقاعد المؤرشفة في مجلد "المؤرشف"
* يجب أن يكون معرّف المستخدم "frappe" ومعرف GID 1000: 1000
* ستكون هناك حاويات رصيف والتي هي في الواقع مقاعد وسيكون لها وصول كامل إلى أوامر مقاعد البدلاء

![](https://frappecloud.com/files/Screenshot٪202023-05-29٪20at٪202.23.57٪20PM.png)

فيما يلي بنية المجلد داخل دليل "المقاعد"

![](https://frappecloud.com/files/Screenshot٪202023-05-29٪20at٪202.25.28٪20PM.png)

لا يمكن الوصول إلى أوامر Bench إلا من داخل الحاوية

![](https://frappecloud.com/files/Screenshot٪202023-05-29٪20at٪202.27.16٪20PM.png)