## ترحيل موقع موجود

قم باستعادة موقع موجود عن طريق تحميل ملفات النسخ الاحتياطي أو باستخدام مقاعد البدلاء من الإعداد المحلي الخاص بك أو من مزود السحابة الخاص بك.

> أثناء ترحيل المواقع الحالية باستخدام لوحة معلومات Frappe Cloud ، يفقد بعض المستخدمين خطوة استعادة تفاصيل تكوين الموقع. إذا كنت تستخدم أمر مقاعد البدلاء ، فلا داعي للقلق بشأن هذا الأمر.

## استعادة من ملفات النسخ الاحتياطي

أسهل طريقة لترحيل موقع موجود على Frappe Cloud هي استعادته من ملفات النسخ الاحتياطي.

1. [تنزيل نسخة احتياطية](https://docs.erpnext.com/docs/user/manual/en/setting-up/data/download-backup) من ملفات موقعك.
2. يجب أن يكون لديك 3 ملفات يجب تسميتها على النحو التالي:
    * 20210817 \ _125915-sitename-database.sql.gz (قاعدة بيانات)
    * 20210817 \ _125915-sitename-files.tar (الملفات العامة)
    * 20210817 \ _125915-sitename-private-files.tar (ملفات خاصة)
3. انقر فوق ** موقع جديد ** من علامة التبويب "المواقع" في Frappe Cloud Dashboard.
4. املأ النطاق الفرعي وحدد الإصدار.
5. انقر فوق ** إنشاء موقع من النسخ الاحتياطي **.
6. الآن ، قم بتحميل كل ملف حصلت عليه في الخطوة 2 في مربعات التحميل المقابلة لها.
7. حدد خطة.
8. انقر فوق ** إنشاء موقع **.
9. عندما يصل الموقع إلى الحالة النشطة ، سيتعين عليك الآن استعادة [تفاصيل تهيئة الموقع](https://frappecloud.com/docs/sites/site-config).

> هذه الطريقة مثالية إذا كان حجم ملف النسخ الاحتياطي أقل من 200 ميغا بايت. إذا كانت لديك ملفات نسخ احتياطي أكبر ، فيجب عليك استخدام الأمر "bench" لترحيل موقعك.

### مفتاح التشفير

يستخدم هذا المفتاح لتشفير كلمات المرور. يتم إنشاء هذا المفتاح تلقائيًا على موقع جديد. عند استعادة موقع من النسخة الاحتياطية ، سيتعين نسخ هذا المفتاح في تكوين الموقع أيضًا لتتمكن من استخدام كلمات المرور الحالية.

في الحالات التي فقدت فيها مفتاح التشفير السابق ، وكان النظام قد أنشأ بالفعل مفتاحًا جديدًا لك (يمكنك التحقق من ذلك في لوحة معلومات Frappe Cloud الخاصة بك) ، فقد تتعثر عند "خطأ مفتاح التشفير". هذا بسبب تشفير بعض حقول كلمات المرور باستخدام المفتاح القديم. الآن عندما يحاول النظام استخدام كلمات المرور هذه ، فإنه يفشل لأنه يحاول فك تشفير كلمات المرور هذه باستخدام المفتاح الجديد. في مثل هذه الحالات ، ستؤدي إعادة إدخال القيمة في حقول كلمة المرور هذه إلى حل المشكلة (نفس كلمة المرور السابقة جيدة). يعمل هذا لأن إعادة إدخال كلمة المرور ستعمل على تشفير كلمة المرور مرة أخرى باستخدام المفتاح الجديد.

على سبيل المثال: ** حساب البريد الإلكتروني ** هو نوع مستند شائع يحتوي على مستند يحتوي على حقل كلمة مرور. ستحتاج إلى إعادة إدخال حقل كلمة المرور المشروح إذا واجهت أخطاء أثناء إرسال البريد الإلكتروني.

![](https://frappecloud.com/files/email-account-password163dd0.png)

## الترحيل باستخدام عنوان URL للموقع

أثناء إنشاء موقع جديد باستخدام معالج إنشاء الموقع الجديد ، يمكنك الانتقال إلى علامة التبويب ** الترحيل من عنوان URL للموقع ** أثناء التواجد في خطوة ** الاستعادة من الموقع الحالي ** واتباع الخطوات المحددة:

![الترحيل من عنوان URL للموقع](https://frappecloud.com/files/migrate_from_site_url.png)

* أدخل عنوان url الخاص بموقعك الحالي
* أدخل بيانات اعتماد مستخدم الموقع القديم
* وانقر على Get Backups

سيؤدي الحصول على النسخ الاحتياطية إلى جلب ملفات النسخ الاحتياطي من موقعك القديم لاستعادتها على Frappe Cloud.

## الهجرة باستخدام مقاعد البدلاء

إذا كنت تقوم بتشغيل مواقع Frappe ، فمن المرجح أن يكون لديك "مقاعد البدلاء" مثبتة. يمكنك تشغيل الأمر التالي لاستعادة موقع من مقعدك إلى Frappe Cloud.

""
مقاعد البدلاء --site {name} migrate-to frappecloud.com
""

يمكنك تشغيل هذا الأمر حتى من الإعداد المحلي الخاص بك. إذا كان موقعك مستضافًا على مزود خدمة سحابية مثل Digital Ocean أو Amazon AWS ، فيجب عليك SSH في الخادم الخاص بك وتشغيل هذا الأمر.

يوفر أمر مقاعد البدلاء نموذجًا مشابهًا لواجهة مستخدم لوحة القيادة. ربما تكون أسهل طريقة لترحيل موقعك إلى Frappe Cloud.

![bench migrate-to command](https://frappecloud.com/assets/press/images/docs/bench-migrate-to.png)

> ستعمل هذه الطريقة فقط إذا كانت مواقعك تعمل بالإصدار 11 أو ما بعده. إذا كنت تستخدم إصدارًا أقدم أو لم يعمل هذا الأمر من أجلك ، فيمكنك تجربة طريقة Python Script الموضحة لاحقًا.

## الهجرة باستخدام برنامج بايثون

إذا كنت تستخدم إصدارًا أقدم من Frappe (أقدم من الإصدار 11) أو لم يعمل أمر Bench من أجلك ، فيمكنك تجربة هذه الطريقة.

تأكد من تثبيت "wget". قم بتشغيل الأوامر التالية من دليل مقاعد البدلاء الخاص بك:

""
wget https://frappecloud.com/assets/press/migrate
chmod + x يهاجر
./يهاجر
""